type AdminLiquidityWithdrawn @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  creator: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type BComputed @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  bValue: BigInt! # uint256
  coverageRatioNum: BigInt! # uint256
  coverageRatioDen: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type BatchWinningsDistributed @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  totalDistributed: BigInt! # uint256
  recipientCount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type BettingTokenUpdated @entity(immutable: true) {
  id: Bytes!
  oldToken: Bytes! # address
  newToken: Bytes! # address
  timestamp: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Claimed @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  user: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FeeAccrued @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  optionId: BigInt! # uint256
  isBuy: Boolean! # bool
  rawAmount: BigInt! # uint256
  fee: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FeeCollected @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FeeCollectorUpdated @entity(immutable: true) {
  id: Bytes!
  oldCollector: Bytes! # address
  newCollector: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FeesUnlocked @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FreeMarketConfigSet @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  maxFreeParticipants: BigInt! # uint256
  tokensPerParticipant: BigInt! # uint256
  totalPrizePool: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type FreeTokensClaimed @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  user: Bytes! # address
  tokens: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type LiquidityAdded @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  provider: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketCreated @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  question: String! # string
  options: [String!]! # string[]
  endTime: BigInt! # uint256
  category: Int! # uint8
  marketType: Int! # uint8
  creator: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketDisputed @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  disputer: Bytes! # address
  reason: String! # string
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketInvalidated @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  validator: Bytes! # address
  refundedAmount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketPaused @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketResolved @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  winningOptionId: BigInt! # uint256
  resolver: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type MarketValidated @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  validator: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type OwnershipTransferred @entity(immutable: true) {
  id: Bytes!
  previousOwner: Bytes! # address
  newOwner: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Paused @entity(immutable: true) {
  id: Bytes!
  account: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type PlatformFeesWithdrawn @entity(immutable: true) {
  id: Bytes!
  collector: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type PricesUpdated @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  prices: [BigInt!]! # uint256[]
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RoleAdminChanged @entity(immutable: true) {
  id: Bytes!
  role: Bytes! # bytes32
  previousAdminRole: Bytes! # bytes32
  newAdminRole: Bytes! # bytes32
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RoleGranted @entity(immutable: true) {
  id: Bytes!
  role: Bytes! # bytes32
  account: Bytes! # address
  sender: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RoleRevoked @entity(immutable: true) {
  id: Bytes!
  role: Bytes! # bytes32
  account: Bytes! # address
  sender: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SharesSold @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  optionId: BigInt! # uint256
  seller: Bytes! # address
  quantity: BigInt! # uint256
  price: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SlippageProtect @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  optionId: BigInt! # uint256
  isBuy: Boolean! # bool
  quantity: BigInt! # uint256
  bound: BigInt! # uint256
  actualTotal: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type TradeExecuted @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  optionId: BigInt! # uint256
  buyer: Bytes! # address
  seller: Bytes! # address
  price: BigInt! # uint256
  quantity: BigInt! # uint256
  tradeId: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Unpaused @entity(immutable: true) {
  id: Bytes!
  account: Bytes! # address
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type UserPortfolioUpdated @entity(immutable: true) {
  id: Bytes!
  user: Bytes! # address
  totalInvested: BigInt! # uint256
  totalWinnings: BigInt! # uint256
  unrealizedPnL: BigInt! # int256
  realizedPnL: BigInt! # int256
  tradeCount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type WinningsDistributedToUser @entity(immutable: true) {
  id: Bytes!
  marketId: BigInt! # uint256
  user: Bytes! # address
  amount: BigInt! # uint256
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Market @entity(immutable: true) {
  id: ID! # marketId
  question: String!
  description: String!
  options: [String!]!
  endTime: BigInt!
  category: String! # e.g., "POLITICS"
  marketType: String! # e.g., "STANDARD"
  creator: Bytes!
  resolved: Boolean!
  winningOptionId: BigInt
  invalidated: Boolean!
  totalVolume: BigInt!
  liquidity: BigInt! # From getMarketLMSRB
  createdAt: BigInt! # Block timestamp
  freeMarketConfig: FreeMarketConfigEntity # For free markets
}

type FreeMarketConfigEntity @entity(immutable: true) {
  id: ID! # marketId
  maxFreeParticipants: BigInt!
  tokensPerParticipant: BigInt!
  totalPrizePool: BigInt!
  currentFreeParticipants: BigInt!
  isActive: Boolean!
}

type Trade @entity(immutable: true) {
  id: ID! # tradeId
  market: Market!
  optionId: BigInt!
  buyer: Bytes!
  seller: Bytes
  price: BigInt!
  quantity: BigInt!
  timestamp: BigInt!
}

type UserPortfolio @entity(immutable: true) {
  id: ID! # user address
  totalInvested: BigInt!
  totalWinnings: BigInt!
  unrealizedPnL: BigInt! # Use BigInt for signed values
  realizedPnL: BigInt!
  tradeCount: BigInt!
  updatedAt: BigInt!
}

type PriceHistory @entity(immutable: true) {
  id: ID! # marketId-optionId-timestamp
  market: Market!
  optionId: BigInt!
  price: BigInt!
  timestamp: BigInt!
  volume: BigInt!
}
